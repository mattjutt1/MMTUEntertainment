# Business-Ops Starter Stack Environment Configuration
# Copy this file to .env and customize for your deployment
#
# Security Note: 
# - Use strong, unique passwords for production
# - Never commit .env files to version control
# - Rotate secrets regularly

# =============================================================================
# GLOBAL SETTINGS
# =============================================================================

# Domain for Traefik routing (use localhost for development)
DOMAIN=localhost

# Timezone (used by Listmonk and other services)
TZ=UTC

# =============================================================================
# TRAEFIK REVERSE PROXY
# =============================================================================

# ACME/Let's Encrypt email for certificate generation
# Override for production deployment
ACME_EMAIL=admin@localhost

# =============================================================================
# ESPOCRM - CUSTOMER RELATIONSHIP MANAGEMENT
# =============================================================================

# EspoCRM Database Configuration
ESPOCRM_DB_ROOT_PASSWORD=espocrm_root_secret_change_me
ESPOCRM_DB_NAME=espocrm
ESPOCRM_DB_USER=espocrm
ESPOCRM_DB_PASSWORD=espocrm_secret_change_me

# EspoCRM Admin User (created during installation)
ESPOCRM_ADMIN_USER=admin
ESPOCRM_ADMIN_PASSWORD=admin123_change_me

# EspoCRM Site URL (adjust for your domain)
ESPOCRM_SITE_URL=http://localhost:8081

# =============================================================================
# ZAMMAD - HELPDESK & CUSTOMER SUPPORT
# =============================================================================

# Zammad Database Configuration
ZAMMAD_DB_NAME=zammad
ZAMMAD_DB_USER=zammad
ZAMMAD_DB_PASSWORD=zammad_secret_change_me

# Elasticsearch Password (uncomment if enabling Elasticsearch)
# ZAMMAD_ES_PASSWORD=zammad_es_secret_change_me

# =============================================================================
# DOCUMENSO - DIGITAL DOCUMENT SIGNING
# =============================================================================

# Documenso Database Configuration
DOCUMENSO_DB_NAME=documenso
DOCUMENSO_DB_USER=documenso
DOCUMENSO_DB_PASSWORD=documenso_secret_change_me

# NextAuth Configuration
DOCUMENSO_NEXTAUTH_URL=http://localhost:8083
# Generate with: openssl rand -base64 32
DOCUMENSO_NEXTAUTH_SECRET=documenso_auth_secret_key_min_32_chars_change_me

# SMTP Configuration for Email Notifications
# Leave empty for development (emails won't be sent)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@localhost

# Digital Signing Certificate
# For development, self-signed cert is created automatically
# For production, use proper PKI certificates
DOCUMENSO_SIGNING_CERT=/app/cert.p12
DOCUMENSO_SIGNING_CERT_PASSWORD=documenso_change_me

# =============================================================================
# LISTMONK - EMAIL NEWSLETTER & MARKETING
# =============================================================================

# Listmonk Database Configuration
LISTMONK_DB_NAME=listmonk
LISTMONK_DB_USER=listmonk
LISTMONK_DB_PASSWORD=listmonk_secret_change_me

# =============================================================================
# CAL.COM - SCHEDULING & CALENDAR MANAGEMENT
# =============================================================================

# Cal.com Database Configuration
CALCOM_DB_NAME=calendso
CALCOM_DB_USER=calendso
CALCOM_DB_PASSWORD=calcom_secret_change_me

# NextAuth Configuration
CALCOM_NEXTAUTH_URL=http://localhost:8085
CALCOM_WEBAPP_URL=http://localhost:8085
# Generate with: openssl rand -base64 32
CALCOM_NEXTAUTH_SECRET=calcom_auth_secret_key_min_32_chars_change_me
CALCOM_ENCRYPTION_KEY=calcom_encryption_key_min_32_chars_change_me

# Email Configuration (uses same SMTP as other services)
CALCOM_EMAIL_FROM=noreply@localhost

# License Key (optional for commercial features)
CALCOM_LICENSE_KEY=

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Docker Compose Profiles
# Available profiles:
# - core: EspoCRM, Zammad, Documenso, Listmonk, Cal.com, Traefik (default)
# - minimal: Just Listmonk + Traefik for testing
# - nextcloud: Adds Nextcloud AIO groupware suite
# 
# Usage:
# COMPOSE_PROFILES=core docker compose up -d
# COMPOSE_PROFILES=core,nextcloud docker compose up -d
COMPOSE_PROFILES=core

# =============================================================================
# SECURITY CHECKLIST FOR PRODUCTION
# =============================================================================
#
# Before deploying to production:
# 1. Change ALL default passwords above
# 2. Use strong, unique passwords (20+ characters)
# 3. Set proper DOMAIN for your production domain
# 4. Configure proper SMTP for email delivery
# 5. Use real SSL certificates (not self-signed)
# 6. Review and harden Traefik configuration
# 7. Enable Elasticsearch for Zammad if needed
# 8. Set up proper backup procedures
# 9. Configure monitoring and alerting
# 10. Review security headers in Traefik dynamic config
#
# Resources:
# - EspoCRM Security: https://docs.espocrm.com/administration/security/
# - Zammad Security: https://docs.zammad.org/en/latest/install/docker-compose.html#security
# - Documenso Security: https://docs.documenso.com/self-hosting/security
# - Listmonk Security: https://listmonk.app/docs/configuration/
# - Traefik Security: https://doc.traefik.io/traefik/https/tls/